;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; PHP Development Configuration (for Docker / Windows)
; High visibility, strong debugging, strict dev mode
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[PHP]
display_errors = On
display_startup_errors = On
log_errors = On
error_reporting = E_ALL

; Avoid Windows console issues:
output_buffering = Off

; Always load in UTF-8 internally
default_charset = "UTF-8"

; Timezone (adjust if needed)
date.timezone = "Europe/Paris"

; Allow long execution times in dev
max_execution_time = 120
max_input_time = 120

; Memory (dev-friendly)
memory_limit = 1G

; Allow file uploads (useful for multipart tests)
file_uploads = On
upload_max_filesize = 50M
post_max_size = 50M

; Disable dangerous functions in dev (optional)
; disable_functions = exec,passthru,shell_exec,system

; Fast shutdown
ignore_user_abort = On

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; XDEBUG 3
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[Xdebug]
xdebug.mode=${XDEBUG_MODE}

xdebug.start_with_request=${XDEBUG_START_WITH_REQUEST}

; Windows + Docker Desktop support
; host.docker.internal = auto-exposed gateway
xdebug.client_host=${XDEBUG_CLIENT_HOST}
xdebug.client_port=${XDEBUG_CLIENT_PORT}

xdebug.log_level=0
;xdebug.log=/tmp/xdebug.log  ; enable if needed

; Optional features
xdebug.discover_client_host=false
xdebug.max_nesting_level=256

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Opcache (disabled in dev, useful for debugging)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[opcache]
opcache.enable=0
opcache.enable_cli=0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Session
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
session.gc_maxlifetime=3600
session.use_strict_mode=1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Assertions (strict dev mode)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
zend.assertions=1
assert.exception=1
